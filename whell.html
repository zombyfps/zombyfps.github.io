<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZombyFPS Silah Kasası</title>
<style>
  body { background: transparent; color:#fff; font-family:'Inter', Arial, sans-serif; text-align:center; }
  .case-container {
    width:800px; margin:20px auto; overflow:hidden;
    border:4px solid #fff; border-radius:12px; background:#111;
    box-shadow:0 0 20px rgba(255,255,255,0.2); position:relative;
  }
  .items { display:flex; }
  .item {
    min-width:160px; height:160px;
    display:flex; align-items:center; justify-content:center;
    background:#222; margin:5px; border-radius:8px;
    filter:grayscale(100%);
    transition:filter 0.3s;
  }
  .item img { max-width:100%; max-height:100%; border-radius:6px; }
  .indicator {
    position:absolute; top:0; left:50%; transform:translateX(-50%);
    width:4px; height:100%; background:red; z-index:10;
  }
  #weaponName { margin-top:20px; font-size:28px; font-weight:bold; color:#f1c40f; }
  #altMessage { margin-top:10px; font-size:20px; font-weight:bold; color:#e74c3c; }
</style>
</head>
<body>
  <div class="case-container">
    <div class="indicator"></div>
    <div class="items" id="items"></div>
  </div>
  <div id="weaponName"></div>
  <div id="altMessage"></div>

  <!-- Ses dosyaları -->
  <audio id="caseSound" src="case_open.mp3" preload="auto"></audio>
  <audio id="finishSound" src="case_finish.mp3" preload="auto"></audio>

<script>
  const baseURL = "https://raw.githubusercontent.com/zombyfps/zombyfps.github.io/refs/heads/main/";


  // Ses efektini başlat
    const sound = document.getElementById("caseSound");
    sound.currentTime = 0;
    sound.play();

  const weapons = [
    // Rifles
    {name:"AK-47", img: baseURL+"ak47.webp", alts:["Galil","Deagle"]},
    {name:"Galil AR", img: baseURL+"galil.webp", alts:["AK-47","Tec-9"]},
    {name:"M4A1-S", img: baseURL+"m4a1.webp", alts:["Galil","Deagle","Zeus x27"]},
    {name:"M4A4", img: baseURL+"m4a4.webp", alts:["Famas","Deagle"]},
    {name:"Famas", img: baseURL+"famas.webp", alts:["Galil","Deagle"]},
    {name:"SG553", img: baseURL+"sg553.webp", alts:["AUG","Galil"]},
    {name:"AUG", img: baseURL+"aug.webp", alts:["SG553","Deagle"]},

    // Pistols (Glock, USP, P2000 kaldırıldı!)
    {name:"Tec-9", img: baseURL+"tec9.webp", alts:["Five-Seven","P250"]},
    {name:"Five-Seven", img: baseURL+"fiveseven.webp", alts:["Tec-9","P250"]},
    {name:"Desert Eagle", img: baseURL+"deagle.webp"},
    {name:"P250", img: baseURL+"p250.webp"},
    {name:"CZ75-Auto", img: baseURL+"cz75.webp"},
    {name:"Dual Berettas", img: baseURL+"dual.webp"},
    {name:"Zeus x27", img: baseURL+"zeus.webp"},

    // Shotguns
    {name:"Sawed-Off", img: baseURL+"sawedoff.webp", alts:["Nova","MAG-7"]},
    {name:"MAG-7", img: baseURL+"mag7.webp", alts:["Nova","Sawed-Off"]},
    {name:"Nova", img: baseURL+"nova.webp"},
    {name:"XM1014", img: baseURL+"xm1014.webp"},

    // SMGs
    {name:"MAC-10", img: baseURL+"mac10.webp", alts:["P90","Deagle","Dual Berettas","XM1014"]},
    {name:"MP9", img: baseURL+"mp9.webp", alts:["P90","Deagle","Dual Berettas","XM1014"]},
    {name:"MP7", img: baseURL+"mp7.webp", alts:["P90","Deagle","Dual Berettas","XM1014"]},
    {name:"MP5", img: baseURL+"mp5.webp", alts:["P90","Deagle","Dual Berettas","XM1014"]},
    {name:"UMP-45", img: baseURL+"ump.webp", alts:["P90","Deagle","Dual Berettas","XM1014"]},
    {name:"P90", img: baseURL+"p90.webp", alts:["Dual Berettas","XM1014","Deagle"]},
    {name:"PP-Bizon", img: baseURL+"bizon.webp", alts:["P90","Deagle","Dual Berettas","XM1014"]},

    // Heavy
    {name:"Negev", img: baseURL+"negev.webp", alts:["M249","Deagle"]},
    {name:"M249", img: baseURL+"m249.webp", alts:["Negev","Deagle"]},

    // Snipers
    {name:"AWP", img: baseURL+"awp.webp", alts:["Scout","Deagle"]},
    {name:"SSG 08 (Scout)", img: baseURL+"ssg.webp", alts:["AWP","Deagle"]}
  ];

  // Ek mizahi öneriler
  const funMessages = [
    "Elindeki tabancayla oyna",
    "Zeus atmayı dene",
    "Bıçak atmayı dene",
    "Takımdan drop iste"
  ];

  const itemsDiv = document.getElementById("items");

  function fillStrip(count=25) {
    itemsDiv.innerHTML = "";
    for (let i=0; i<count; i++) {
      const w = weapons[Math.floor(Math.random()*weapons.length)];
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `<img src="${w.img}" alt="${w.name}">`;
      itemsDiv.appendChild(div);
    }
  }

  function openCase() {
    const chosenWeapon = weapons[Math.floor(Math.random()*weapons.length)];

    // şerit sıfırla
    itemsDiv.innerHTML = "";
    for (let i=0; i<20; i++) {
      const w = weapons[Math.floor(Math.random()*weapons.length)];
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `<img src="${w.img}" alt="${w.name}">`;
      itemsDiv.appendChild(div);
    }

    // seçilen silah
    const chosenDiv = document.createElement("div");
    chosenDiv.className = "item";
    chosenDiv.innerHTML = `<img src="${chosenWeapon.img}" alt="${chosenWeapon.name}">`;
    itemsDiv.appendChild(chosenDiv);

    // devamındaki görseller
    for (let i=0; i<10; i++) {
      const w = weapons[Math.floor(Math.random()*weapons.length)];
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `<img src="${w.img}" alt="${w.name}">`;
      itemsDiv.appendChild(div);
    }

    const chosenIndex = itemsDiv.children.length - 11;
    const endOffset = -(chosenIndex*170 - 320);

    let start = Date.now();
    let duration = 10000;

        function animate() {
      let elapsed = Date.now() - start;
      if (elapsed < duration) {
        let progress = elapsed/duration;
        let easeOut = 1 - Math.pow(2, -10 * progress);
        let currentOffset = -easeOut*(Math.abs(endOffset));
        itemsDiv.style.transform = `translateX(${currentOffset}px)`;
        requestAnimationFrame(animate);
      } else {
        // Animasyon bittiğinde
        itemsDiv.style.transform = `translateX(${endOffset}px)`;
        for (let i=0; i<itemsDiv.children.length; i++) {
          itemsDiv.children[i].style.filter = "grayscale(100%)";
        }
        itemsDiv.children[chosenIndex].style.filter = "grayscale(0%)";

        // Silah ismi ekranda
        document.getElementById("weaponName").innerText = chosenWeapon.name;

        // Alt mesaj (sadece alternatif varsa)
        if (chosenWeapon.alts) {
          const alt = chosenWeapon.alts[Math.floor(Math.random()*chosenWeapon.alts.length)];
          const fun = funMessages[Math.floor(Math.random()*funMessages.length)];
          document.getElementById("altMessage").innerText =
            `Uygun değilse: ${alt} al (O da uygun değilse: ${fun})`;
        } else {
          document.getElementById("altMessage").innerText = "";
        }
      }
    }
    animate();
  }

  // OBS refresh → otomatik başlat
  window.onload = () => {
    fillStrip();
    openCase();
  };
</script>
